# Shareable pre-commit hook for DPO config validation.
#
# Teams that manage DPO YAML configs in their own deployment repos can use
# this as a pre-commit hook to validate configs before committing.
#
# Setup:
#   1. Copy this file to the root of your deployment repo as .pre-commit-hooks.yaml
#   2. Add the following to your .pre-commit-config.yaml:
#
#   repos:
#     - repo: local
#       hooks:
#         - id: dpo-validate
#           name: DPO config validation
#           entry: dpo validate
#           language: python
#           types: [yaml]
#           files: "^configs/.*\\.ya?ml$"
#           pass_filenames: true
#           additional_dependencies:
#             - "databricks-dpo"
#
#   3. Install: pre-commit install
#   4. Run manually: pre-commit run --all-files

- id: dpo-validate
  name: DPO config validation
  description: Validates DPO YAML configuration files against schema and policy rules.
  entry: dpo validate
  language: python
  types: [yaml]
  pass_filenames: true
  additional_dependencies:
    - "databricks-dpo"
